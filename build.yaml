name: $(Build.BuildId).$(Year:yy)$(DayOfYear)
trigger: [master]
resources: { repositories: [ { repository: templates, type: git, name: Audacia/Audacia.Build.Templates } ] }

jobs:

- job:
  displayName: Audacia.Seed
  trigger:
    paths:
      include: Audacia.Seed/*
  steps:
  - template: build-package.netcore.yaml@templates
    parameters:
      projects: Audacia.Seed/Audacia.Seed.csproj

- job:
  displayName: Audacia.Seed.AutoFixture
  trigger:
    paths:
      include: Audacia.Seed.AutoFixture/*
  steps:
  - template: build-package.netcore.yaml@templates
    parameters:
      projects: Audacia.Seed.AutoFixture/Audacia.Seed.AutoFixture.csproj

- job:
  displayName: Audacia.Seed.EntityFrameworkCore
  trigger:
    paths:
      include: Audacia.Seed.EntityFrameworkCore/*
  steps:
  - template: build-package.netcore.yaml@templates
    parameters:
      projects: Audacia.Seed.EntityFrameworkCore/Audacia.Seed.EntityFrameworkCore.csproj
        
- job:
  displayName: Audacia.Seed.EntityFramework6
  trigger:
    paths:
      include: Audacia.Seed/EntityFramework6
  steps:      
  - template: build-package.netfx.yaml@templates
    parameters:
      projects: Audacia.Seed.EntityFramework6/Audacia.Seed.EntityFramework6.csproj